<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>AR â€“ Two Markers</title>
  <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  <style>body{margin:0;overflow:hidden}</style>
</head>
<body>
  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

    

    <!-- Add this once in <a-scene> (assets) -->
  <a-assets>
    <a-asset-item id="dejavuFont" src="https://cdn.aframe.io/fonts/DejaVu-sdf.fnt"></a-asset-item>
    <img id="dejavuTex" src="https://cdn.aframe.io/fonts/DejaVu-sdf.png">
  </a-assets>

  <!-- Marker B: your custom pattern -> riddle card -->
  <a-marker type="pattern" url="./pattern-marker.patt">
    <!-- Group everything, rotate group once -->
    <a-entity rotation="-90 0 0">

      <!-- Card background (lowest) -->
      <a-plane position="0 0.010 0" width="1.8" height="1.0"
              material="shader: flat; color: #1F2937"></a-plane>

      <!-- Title -->
      <a-text value="RIDDLE" align="center" width="1.6"
              position="0 0.030 0.001"
              color="#F59E0B"
              side="double"
              font="#dejavuFont" font-image="#dejavuTex">
      </a-text>

      <!-- Riddle lines (lifted slightly; wrap so it stays on card) -->
      <a-text value="I have keys but no locks,\nI have space but no rooms.\nYou can enter, but you can't go outside.\nWhat am I?"
              align="center" width="1.65" wrap-count="28"
              position="0 -0.150 0.002"
              color="#E5E7EB"
              side="double"
              font="#dejavuFont" font-image="#dejavuTex">
      </a-text>

      <!-- Hint (toggle elsewhere; starts hidden) -->
      <a-text id="hint" value="Hint: A keyboard ðŸ˜‰"
              visible="false" align="center" width="1.6"
              position="0 -0.360 0.003"
              color="#93C5FD"
              side="double"
              font="#dejavuFont" font-image="#dejavuTex">
      </a-text>

      <!-- Button (slightly above everything) -->
      <a-box id="hintButton" position="0 -0.470 0.004"
            width="0.8" height="0.22" depth="0.02" color="#2563EB"></a-box>
      <a-text value="Show Hint" align="center" width="1.4"
              position="0 -0.470 0.006" color="#FFFFFF"
              side="double"
              font="#dejavuFont" font-image="#dejavuTex">
      </a-text>

    </a-entity>
  </a-marker>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('hintButton');
      const hint = document.getElementById('hint');
      if (btn && hint) {
        btn.addEventListener('click', () => {
          const v = hint.getAttribute('visible');
          hint.setAttribute('visible', !(v === true || v === 'true'));
        });
      }
    });
  </script>
</body>
</html>
